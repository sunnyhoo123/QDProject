webpackJsonp([14],{"1UNn":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mvHQ"),l=r.n(n),o={name:"Pagination",model:{prop:"value",event:"selected"},props:{value:String,width:String,options:{type:Array,required:!0},placeholder:{type:String,required:!1,default:"请选择"},treeProps:{type:Object,required:!1,default:function(){return{parent:"parentId",value:"rowGuid",label:"areaName",children:"children"}}}},data:function(){return{showStatus:!1,treeWidth:"auto",labelModel:"",valueModel:"0"}},computed:{dataType:function(){return-1!==l()(this.options).indexOf(this.treeProps.children)},data:function(){return this.dataType?this.options:this.switchTree()}},watch:{labelModel:function(e){e||(this.valueModel=""),this.$refs.tree.filter(e)},value:function(e){this.labelModel=this.queryTree(this.data,e)}},created:function(){var e=this;this.value&&(this.labelModel=this.queryTree(this.data,this.value)),this.$nextTick(function(){e.treeWidth=(e.width||e.$refs.input.$refs.input.clientWidth)-24+"px"})},methods:{onClickNode:function(e){this.labelModel=e[this.treeProps.label],this.valueModel=e[this.treeProps.value],this.onCloseTree()},switchTree:function(){return this.cleanChildren(this.buildTree(this.options,"0"))},onCloseTree:function(){this.$refs.popover.showPopper=!1},onShowPopover:function(){this.showStatus=!0,this.$refs.tree.filter(!1)},onHidePopover:function(){this.showStatus=!1,this.$emit("selected",this.valueModel)},filterNode:function(e,t){return!e||-1!==t[this.treeProps.label].indexOf(e)},queryTree:function(e,t){var r=[];for(r=r.concat(e);r.length;){var n=r.shift();if(n[this.treeProps.children]&&(r=r.concat(n[this.treeProps.children])),n[this.treeProps.value]===t)return n[this.treeProps.label]}return""},buildTree:function(e){var t=this;return function r(n){for(var l=[],o=0;o<e.length;o++){var i=e[o];i[t.treeProps.parent]===n&&(i.children=r(i.rowGuid),l.push(i))}return l}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0")},cleanChildren:function(e){return function e(t){return t.map(function(t){return t.children.length?e(t.children):delete t.children,t}),t}(e)}}},i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-popover",{ref:"popover",attrs:{placement:"bottom-start",trigger:"click"},on:{show:e.onShowPopover,hide:e.onHidePopover}},[r("el-tree",{ref:"tree",staticClass:"select-tree",style:"min-width: "+e.treeWidth,attrs:{data:e.options,props:e.treeProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":!1,"highlight-current":""},on:{"node-click":e.onClickNode}}),e._v(" "),r("el-input",{ref:"input",class:{rotate:e.showStatus},style:"width: "+e.width+"px",attrs:{slot:"reference",placeholder:e.placeholder,clearable:"","suffix-icon":"el-icon-arrow-down"},slot:"reference",model:{value:e.labelModel,callback:function(t){e.labelModel=t},expression:"labelModel"}})],1)},staticRenderFns:[]};var s={name:"ElFormCom",components:{selectTree:r("VU/8")(o,i,!1,function(e){r("U6MP")},null,null).exports},filters:{},props:{},data:function(){return{selected:"A",defaultProps:{parent:"parentId",value:"id",label:"label",children:"children"},options:[{parentId:"0",id:"A",label:"label-A",children:[{parentId:"A",id:"A-1",label:"label-A-1"}]},{parentId:"1",id:"B",label:"label-B",children:[{parentId:"B",id:"B-1",label:"label-B-1"}]}]}},computed:{},watch:{},created:function(){},beforeMount:function(){},mounted:function(){},methods:{selectedTest:function(e){console.log(e,"123")}}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"elFormCom"},[r("el-form",{attrs:{inline:""}},[r("el-form-item",{attrs:{label:"表单+子组件（popover+input+tree）："}},[r("select-tree",{attrs:{options:e.options,treeProps:e.defaultProps},on:{selected:e.selectedTest},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)],1)},staticRenderFns:[]};var d=r("VU/8")(s,a,!1,function(e){r("Ug7W")},"data-v-d3808a70",null);t.default=d.exports},U6MP:function(e,t){},Ug7W:function(e,t){}});
//# sourceMappingURL=14.5ff6e4e233f2dcb3efdb.js.map